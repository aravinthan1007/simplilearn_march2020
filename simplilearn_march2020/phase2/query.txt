declare
name varchar2(20):='Simplilearn';
result number;
begin
DBMS_OUTPUT.PUT_LINE('Hello '||name);
helloproc();
DBMS_OUTPUT.PUT_LINE(hellofunc());
sumof2numbers(10,22,result);
DBMS_OUTPUT.PUT_LINE('result = '||result);
end;


create or replace procedure sumOf2numbers(a number,b number, res OUT number) AS
begin
res:=a+b;
end;

create or replace procedure helloProc As
begin
DBMS_OUTPUT.PUT_LINE('Hello Procedure');
end helloProc;

create or replace function helloFunc return VARCHAR2  
As
begin
return 'Hello Function';
end helloFunc;

select helloFunc() from dual;


CREATE OR REPLACE PROCEDURE CREATEPLAYER 
(
  V_ID OUT NUMBER 
, V_NAME IN VARCHAR2 
, V_CONTACT IN NUMBER 
, V_AGE IN NUMBER 
, V_TID IN NUMBER 
, V_DOB IN DATE 
) AS 
BEGIN
  select player_seq.nextVal into V_ID from dual;
  insert into player(id,name,age,dob,contact,tid) values(V_ID,V_NAME,V_AGE,V_DOB,V_CONTACT,V_TID);
END CREATEPLAYER;

declare
V_id number;
begin
createplayer(V_id, 'TESTPLAYER2', 9001231122,22,103,'10/10/1998');
DBMS_OUTPUT.put_line('player created with id '||v_id);
end;



  CREATE TABLE "SIMPLILEARN"."PLAYER" 
   (	"ID" NUMBER NOT NULL ENABLE, 
	"NAME" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
	"AGE" NUMBER NOT NULL ENABLE, 
	"CONTACT" NUMBER NOT NULL ENABLE, 
	"DOB" DATE NOT NULL ENABLE, 
	"TID" NUMBER, 
	 CONSTRAINT "PLAYER_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "PLAYER_UK1" UNIQUE ("CONTACT")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "PLAYER_FK1" FOREIGN KEY ("TID")
	  REFERENCES "SIMPLILEARN"."TEAM" ("TID") DISABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;


  CREATE TABLE "SIMPLILEARN"."TEAM" 
   (	"TID" NUMBER NOT NULL ENABLE, 
	"TEAMNAME" VARCHAR2(10 BYTE) NOT NULL ENABLE, 
	 CONSTRAINT "TEAM_PK" PRIMARY KEY ("TID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;


//Product Table - schema name is ->Simplilearn change it accordingly for your own schema name 

 CREATE TABLE "SIMPLILEARN"."PRODUCT" 
   (	"ID" NUMBER NOT NULL ENABLE, 
	"NAME" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"COST" NUMBER NOT NULL ENABLE, 
	"RATING" NUMBER NOT NULL ENABLE, 
	"MANUFACTURERNAME" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"UNIQUEID" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	 CONSTRAINT "PRODUCT_PK" PRIMARY KEY ("ID")
)

//Product Sequence - execute this before you execute addproduct procedure
   CREATE SEQUENCE  "SIMPLILEARN"."PRODUCT_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 10020 CACHE 20 NOORDER  NOCYCLE ;


CREATE OR REPLACE PROCEDURE ADDPRODUCT 
(
  V_ID OUT NUMBER 
, V_NAME IN VARCHAR2 
, V_COST IN NUMBER 
, V_RATING IN NUMBER 
, V_MANUFACTURERNAME IN VARCHAR2 
, V_UNIQUEID OUT VARCHAR2 
) AS 
BEGIN
  select PRODUCT_SEQ.nextval into V_ID from dual;
  v_uniqueid:='PRO'||upper(substr(v_name,0,2))||upper(substr(v_manufacturername,0,3))||v_id;
  insert into product(id,name,cost,rating,manufacturername,uniqueid) VALUES(v_id,V_name,v_cost,v_rating,v_manufacturername,v_uniqueid);
END ADDPRODUCT;


